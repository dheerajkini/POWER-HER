<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nirbhaya - Women Safety App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --bg-primary: #0c0c0c;
            --bg-secondary: #1a1a2e;
            --bg-tertiary: #16213e;
            --text-primary: #f0f0f0;
            --text-secondary: #b0b0b0;
            --accent-pink: #ff4081;
            --accent-blue: #00bcd4;
            --accent-yellow: #ffc107;
            --card-bg: rgba(30, 30, 46, 0.7);
            --card-border: rgba(255, 255, 255, 0.1);
        }

        [data-theme="light"] {
            --bg-primary: #f5f7fa;
            --bg-secondary: #e4e5f1;
            --bg-tertiary: #d2d3db;
            --text-primary: #333333;
            --text-secondary: #666666;
            --accent-pink: #e91e63;
            --accent-blue: #0097a7;
            --accent-yellow: #ff8f00;
            --card-bg: rgba(255, 255, 255, 0.9);
            --card-border: rgba(0, 0, 0, 0.1);
        }

        body {
            background: linear-gradient(135deg, var(--bg-primary), var(--bg-secondary), var(--bg-tertiary));
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            transition: background 0.5s ease, color 0.5s ease;
        }

        /* Animated background */
        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .star {
            position: absolute;
            background-color: var(--text-primary);
            border-radius: 50%;
            animation: twinkle 5s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
        }

        /* Geometric Background */
        .geometric-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            overflow: hidden;
            opacity: 0.6;
        }

        .geometric-shape {
            position: absolute;
            opacity: 0.1;
        }

        .triangle {
            width: 0;
            height: 0;
            border-left: 100px solid transparent;
            border-right: 100px solid transparent;
            border-bottom: 173px solid var(--accent-pink);
            top: 10%;
            left: 5%;
            animation: float-triangle 25s infinite linear;
        }

        .circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: var(--accent-blue);
            top: 70%;
            left: 80%;
            animation: float-circle 20s infinite linear;
        }

        .square {
            width: 120px;
            height: 120px;
            background: var(--accent-pink);
            top: 20%;
            left: 75%;
            transform: rotate(45deg);
            animation: float-square 30s infinite linear;
        }

        .hexagon {
            width: 100px;
            height: 57.74px;
            background: var(--accent-pink);
            margin: 28.87px 0;
            position: relative;
            top: 60%;
            left: 15%;
            animation: float-hexagon 35s infinite linear;
        }

        .hexagon:before,
        .hexagon:after {
            content: "";
            position: absolute;
            width: 0;
            border-left: 50px solid transparent;
            border-right: 50px solid transparent;
        }

        .hexagon:before {
            bottom: 100%;
            border-bottom: 28.87px solid var(--accent-pink);
        }

        .hexagon:after {
            top: 100%;
            border-top: 28.87px solid var(--accent-pink);
        }

        @keyframes float-triangle {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }

            100% {
                transform: translate(100px, 50px) rotate(360deg);
            }
        }

        @keyframes float-circle {
            0% {
                transform: translate(0, 0);
            }

            50% {
                transform: translate(-50px, -30px);
            }

            100% {
                transform: translate(0, 0);
            }
        }

        @keyframes float-square {
            0% {
                transform: translate(0, 0) rotate(45deg);
            }

            100% {
                transform: translate(-80px, 40px) rotate(405deg);
            }
        }

        @keyframes float-hexagon {
            0% {
                transform: translate(0, 0);
            }

            50% {
                transform: translate(40px, -20px);
            }

            100% {
                transform: translate(0, 0);
            }
        }

        /* Enhanced Splash Screen */
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--accent-pink), var(--accent-blue));
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 1s ease;
        }

        .app-name {
            font-size: 5rem;
            font-weight: 800;
            color: white;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.7);
            margin-bottom: 20px;
            position: relative;
            animation: glow 2s infinite alternate, fadeInScale 1.5s ease-out;
            background: linear-gradient(45deg, #ffffff, #e1bee7, #ffffff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 3px;
        }

        .splash-quote {
            font-size: 2rem;
            color: white;
            font-style: italic;
            text-align: center;
            max-width: 80%;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
            animation: fadeInUp 1.5s ease-out 0.5s both;
            margin-bottom: 30px;
        }

        .safety-icon {
            font-size: 4rem;
            color: white;
            animation: bounce 2s infinite;
            margin-top: 20px;
        }

        @keyframes glow {
            0% {
                text-shadow: 0 0 10px rgba(255, 255, 255, 0.7);
            }

            100% {
                text-shadow: 0 0 30px rgba(255, 255, 255, 0.9), 0 0 40px rgba(255, 255, 255, 0.6);
            }
        }

        @keyframes fadeInScale {
            0% {
                opacity: 0;
                transform: scale(0.8);
            }

            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(30px);
            }

            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        /* Login/Registration Styles */
        .auth-container {
            display: none;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .auth-box {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 40px;
            width: 100%;
            max-width: 450px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 1px solid var(--card-border);
            animation: fadeInScale 1s ease-out;
        }

        .auth-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .auth-header h1 {
            font-size: 32px;
            background: linear-gradient(90deg, var(--accent-pink), var(--accent-blue));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 10px;
        }

        .auth-header p {
            color: var(--text-secondary);
            font-size: 16px;
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--card-border);
        }

        .auth-tab {
            flex: 1;
            text-align: center;
            padding: 15px;
            cursor: pointer;
            color: var(--text-secondary);
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }

        .auth-tab.active {
            color: var(--accent-pink);
            border-bottom: 3px solid var(--accent-pink);
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-secondary);
        }

        .form-group input {
            width: 100%;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid var(--card-border);
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            font-size: 16px;
        }

        .password-container {
            position: relative;
        }

        .toggle-password {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
        }

        .auth-button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(90deg, var(--accent-pink), #e91e63);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .auth-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 64, 129, 0.4);
        }

        /* Main App Styles */
        .app-container {
            display: none;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid var(--card-border);
            animation: fadeInUp 0.8s ease-out;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            color: var(--accent-pink);
            font-size: 32px;
        }

        .logo h1 {
            font-size: 28px;
            background: linear-gradient(90deg, var(--accent-pink), var(--accent-blue));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 700;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 30px;
        }

        nav a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 16px;
            transition: color 0.3s;
        }

        nav a:hover {
            color: var(--accent-pink);
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 18px;
            cursor: pointer;
            transition: color 0.3s;
        }

        .user-btn:hover {
            color: var(--accent-pink);
        }

        .hero {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 80px 20px;
            animation: fadeInUp 1s ease-out 0.3s both;
        }

        .hero h2 {
            font-size: 48px;
            margin-bottom: 20px;
            background: linear-gradient(90deg, var(--accent-pink), var(--accent-blue));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .hero p {
            font-size: 20px;
            max-width: 800px;
            margin-bottom: 30px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .cta-button {
            background: linear-gradient(90deg, var(--accent-pink), #e91e63);
            color: white;
            border: none;
            padding: 18px 35px;
            font-size: 20px;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            box-shadow: 0 5px 15px rgba(255, 64, 129, 0.4);
            margin: 10px;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 64, 129, 0.6);
        }

        .secondary-button {
            background: transparent;
            color: var(--accent-blue);
            border: 2px solid var(--accent-blue);
            padding: 18px 35px;
            font-size: 20px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            margin: 10px;
        }

        .secondary-button:hover {
            background: rgba(0, 188, 212, 0.1);
            transform: translateY(-3px);
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin: 80px 0;
        }

        .feature-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid var(--card-border);
            animation: fadeInUp 0.8s ease-out;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .feature-icon {
            font-size: 50px;
            margin-bottom: 20px;
            color: var(--accent-blue);
        }

        .feature-card h3 {
            font-size: 24px;
            margin-bottom: 15px;
            color: var(--accent-pink);
        }

        .feature-card p {
            color: var(--text-secondary);
            line-height: 1.6;
            font-size: 16px;
        }

        .emergency-section {
            background: rgba(255, 64, 129, 0.1);
            border-radius: 20px;
            padding: 50px;
            text-align: center;
            margin: 80px 0;
            border: 1px solid rgba(255, 64, 129, 0.3);
            animation: fadeInUp 0.8s ease-out 0.5s both;
        }

        .emergency-section h2 {
            font-size: 36px;
            margin-bottom: 20px;
            color: var(--accent-pink);
        }

        .emergency-section p {
            font-size: 18px;
            max-width: 800px;
            margin: 0 auto 30px;
            color: var(--text-secondary);
        }

        .emergency-buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 25px;
            margin-top: 40px;
        }

        .emergency-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 170px;
            height: 170px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-pink), #e91e63);
            color: white;
            font-size: 18px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            box-shadow: 0 5px 15px rgba(255, 64, 129, 0.4);
            animation: fadeInScale 0.8s ease-out;
        }

        .emergency-btn i {
            font-size: 50px;
            margin-bottom: 15px;
        }

        .emergency-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(255, 64, 129, 0.6);
        }

        .location-section {
            background: rgba(0, 188, 212, 0.1);
            border-radius: 20px;
            padding: 50px;
            margin: 80px 0;
            border: 1px solid rgba(0, 188, 212, 0.3);
            animation: fadeInUp 0.8s ease-out 0.7s both;
        }

        .location-section h2 {
            font-size: 36px;
            margin-bottom: 20px;
            color: var(--accent-blue);
            text-align: center;
        }

        .location-info {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 25px;
            margin-top: 40px;
        }

        .location-card {
            flex: 1;
            min-width: 280px;
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            animation: fadeInUp 0.8s ease-out;
        }

        .location-card h3 {
            color: var(--accent-blue);
            margin-bottom: 20px;
            font-size: 22px;
        }

        .location-card p {
            color: var(--text-secondary);
            margin-bottom: 15px;
            font-size: 16px;
        }

        .safety-tips {
            background: rgba(255, 193, 7, 0.1);
            border-radius: 20px;
            padding: 50px;
            margin: 80px 0;
            border: 1px solid rgba(255, 193, 7, 0.3);
            animation: fadeInUp 0.8s ease-out 0.9s both;
        }

        .safety-tips h2 {
            font-size: 36px;
            margin-bottom: 30px;
            color: var(--accent-yellow);
            text-align: center;
        }

        .tips-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .tip-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            border-left: 5px solid var(--accent-yellow);
            animation: fadeInUp 0.8s ease-out;
        }

        .tip-card h3 {
            color: var(--accent-yellow);
            margin-bottom: 15px;
            font-size: 20px;
        }

        .tip-card p {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .resources {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 80px 0;
            animation: fadeInUp 0.8s ease-out 1.1s both;
        }

        .resource-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            transition: transform 0.3s;
            border: 1px solid var(--card-border);
            animation: fadeInUp 0.8s ease-out;
        }

        .resource-card:hover {
            transform: translateY(-10px);
        }

        .resource-card h3 {
            font-size: 22px;
            margin-bottom: 20px;
            color: var(--accent-pink);
        }

        .resource-card p {
            color: var(--text-secondary);
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .resource-link {
            color: var(--accent-blue);
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            transition: gap 0.3s;
        }

        .resource-link:hover {
            gap: 10px;
        }

        footer {
            text-align: center;
            padding: 40px 0;
            border-top: 1px solid var(--card-border);
            margin-top: 80px;
            color: var(--text-secondary);
            animation: fadeInUp 0.8s ease-out 1.3s both;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 30px 0;
        }

        .footer-links a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: var(--accent-pink);
        }

        .social-icons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .social-icons a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-secondary);
            transition: all 0.3s;
        }

        .social-icons a:hover {
            background: var(--accent-pink);
            color: white;
            transform: translateY(-5px);
        }

        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--accent-pink);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Emergency mode styles */
        .emergency-mode {
            animation: emergencyPulse 1s infinite;
        }

        @keyframes emergencyPulse {
            0%, 100% { background-color: rgba(255, 64, 129, 0.1); }
            50% { background-color: rgba(255, 64, 129, 0.3); }
        }

        /* Toast notification */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--accent-pink);
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(255, 64, 129, 0.4);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .toast.show {
            opacity: 1;
        }

        /* Map Page Styles */
        .map-page {
            display: none;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .map-section {
            background: rgba(0, 188, 212, 0.1);
            border-radius: 20px;
            padding: 50px;
            margin: 80px 0;
            border: 1px solid rgba(0, 188, 212, 0.3);
            animation: fadeInUp 0.8s ease-out 1.5s both;
        }

        .map-section h2 {
            font-size: 36px;
            margin-bottom: 20px;
            color: var(--accent-blue);
            text-align: center;
        }

        .api-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--card-border);
            margin-bottom: 30px;
        }
        
        .api-section h2 {
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--accent-blue);
        }
        
        .api-section h2 i {
            color: #4CAF50;
        }
        
        .api-key-input {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .api-key-input input {
            flex: 1;
            padding: 12px 15px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
            color: #333;
        }
        
        .api-key-input button {
            padding: 12px 25px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .api-key-input button:hover {
            background: #45a049;
            transform: translateY(-2px);
        }
        
        .map-container {
            height: 500px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            margin-bottom: 20px;
        }
        
        #map {
            height: 100%;
            width: 100%;
        }
        
        .controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .control-btn {
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid var(--card-border);
            color: var(--text-primary);
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }
        
        .control-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }
        
        .control-btn.active {
            background: #4CAF50;
        }
        
        .status-bar {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .status-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #4CAF50;
        }
        
        .status-indicator.offline {
            background: #f44336;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid var(--card-border);
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #4CAF50;
        }
        
        .feature-card h3 {
            margin-bottom: 10px;
            color: var(--accent-pink);
        }

        /* Settings Page Styles */
        .settings-page {
            display: none;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .settings-section {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            border: 1px solid var(--card-border);
            animation: fadeInUp 0.8s ease-out;
        }

        .settings-section h2 {
            font-size: 28px;
            margin-bottom: 25px;
            color: var(--accent-pink);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .settings-option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid var(--card-border);
        }

        .settings-option:last-child {
            border-bottom: none;
        }

        .option-info h3 {
            font-size: 18px;
            margin-bottom: 5px;
            color: var(--text-primary);
        }

        .option-info p {
            font-size: 14px;
            color: var(--text-secondary);
        }

        /* Toggle Switch */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--accent-pink);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        @media (max-width: 768px) {
            nav ul {
                display: none;
            }
            
            .hero h2 {
                font-size: 36px;
            }
            
            .emergency-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .cta-button, .secondary-button {
                padding: 15px 25px;
                font-size: 18px;
            }
            
            .emergency-btn {
                width: 140px;
                height: 140px;
            }

            .api-key-input {
                flex-direction: column;
            }
            
            .controls {
                justify-content: center;
            }
            
            .map-container {
                height: 400px;
            }

            .status-bar {
                flex-direction: column;
                gap: 15px;
            }
            
            .app-name {
                font-size: 3.5rem;
            }
            
            .splash-quote {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="background" id="stars-container"></div>
    <div class="geometric-bg" id="geometric-bg"></div>
    
    <!-- Splash Screen -->
    <div class="splash-screen" id="splashScreen">
        <div class="app-name">Nirbhaya </div>
        <div class="splash-quote">Safe Women, Safe Tomorrow</div>
        <div class="safety-icon">
            <i class="fas fa-shield-alt"></i>
        </div>
    </div>
    
    <!-- Login/Registration Section -->
    <div class="auth-container" id="authContainer">
        <div class="auth-box">
            <div class="auth-header">
                <h1>Nirbhaya</h1>
                <p>Safe Women, Safe Tomorrow</p>
            </div>
            
            <div class="auth-tabs">
                <div class="auth-tab active" data-tab="login">Login</div>
                <div class="auth-tab" data-tab="register">Register</div>
            </div>
            
            <form class="auth-form active" id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" placeholder="Enter your email" required>
                </div>
                
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <div class="password-container">
                        <input type="password" id="loginPassword" placeholder="Enter your password" required>
                        <button type="button" class="toggle-password" id="toggleLoginPassword">
                            <i class="far fa-eye"></i>
                        </button>
                    </div>
                </div>
                
                <button type="submit" class="auth-button">Login</button>
            </form>
            
            <form class="auth-form" id="registerForm">
                <div class="form-group">
                    <label for="registerName">Full Name</label>
                    <input type="text" id="registerName" placeholder="Enter your full name" required>
                </div>
                
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" placeholder="Enter your email" required>
                </div>
                
                <div class="form-group">
                    <label for="registerPassword">Password</label>
                    <div class="password-container">
                        <input type="password" id="registerPassword" placeholder="Create a password" required>
                        <button type="button" class="toggle-password" id="toggleRegisterPassword">
                            <i class="far fa-eye"></i>
                        </button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="confirmPassword">Confirm Password</label>
                    <div class="password-container">
                        <input type="password" id="confirmPassword" placeholder="Confirm your password" required>
                        <button type="button" class="toggle-password" id="toggleConfirmPassword">
                            <i class="far fa-eye"></i>
                        </button>
                    </div>
                </div>
                
                <button type="submit" class="auth-button">Register</button>
            </form>
        </div>
    </div>
    
    <!-- Main App -->
    <div class="app-container" id="appContainer">
        <header>
            <div class="logo">
                <i class="fas fa-shield-alt"></i>
                <h1>Nirbhaya</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="#" class="nav-link" data-page="home"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="#" class="nav-link" data-page="map"><i class="fas fa-map-marked-alt"></i> Safety Maps</a></li>
                    <li><a href="#"><i class="fas fa-phone-alt"></i> Emergency</a></li>
                    <li><a href="#"><i class="fas fa-book"></i> Resources</a></li>
                    <li><a href="#" class="nav-link" data-page="settings"><i class="fas fa-cog"></i> Settings</a></li>
                </ul>
            </nav>
            <div class="user-menu">
                <button class="user-btn" id="profileBtn">
                    <i class="fas fa-user"></i>
                </button>
                <button class="user-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </header>

        <section class="hero">
            <h2>Nirbhaya</h2>
            <p>Nirbhaya is an advanced women safety application designed specifically for remote areas with limited connectivity. Our app works offline and ensures your safety with cutting-edge features.</p>
        </section>

        <section class="features">
            <div class="feature-card">
                <i class="fas fa-bell feature-icon"></i>
                <h3>Smart Alert System</h3>
                <p>Send emergency alerts to your trusted contacts with your live location, even without internet connectivity using SMS fallback.</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-map-marked-alt feature-icon"></i>
                <h3>Offline Maps & Navigation</h3>
                <p>Access detailed offline maps with marked safe zones, police stations, hospitals, and women shelters in remote areas.</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-phone feature-icon"></i>
                <h3>Emergency Call Routing</h3>
                <p>Automatically connect to the nearest emergency services based on your location, with multi-language support.</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-microphone feature-icon"></i>
                <h3>Voice Activation</h3>
                <p>Activate emergency mode with voice commands like "Help" or "Emergency" when your hands are not free.</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-record-vinyl feature-icon"></i>
                <h3>Audio/Video Evidence</h3>
                <p>Discreetly record audio and video during emergencies, automatically saved to your secure cloud storage.</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-walking feature-icon"></i>
                <h3>Safe Route Planning</h3>
                <p>Get AI-powered safe route suggestions based on time of day, crime statistics, and well-lit paths.</p>
            </div>
        </section>

        <section class="emergency-section" id="emergencySection">
            <h2>Emergency Quick Actions</h2>
            <p>In case of emergency, use these quick action buttons. All features work offline and will automatically sync when connectivity is restored.</p>
            <div class="emergency-buttons">
                <div class="emergency-btn" data-action="alert">
                    <i class="fas fa-bell"></i>
                    <span>Alert Contacts</span>
                </div>
                <div class="emergency-btn" data-action="location">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Share Location</span>
                </div>
                <div class="emergency-btn" data-action="call">
                    <i class="fas fa-phone"></i>
                    <span>Call Emergency</span>
                </div>
                <div class="emergency-btn" data-action="audio">
                    <i class="fas fa-record-vinyl"></i>
                    <span>Audio Record</span>
                </div>
                <div class="emergency-btn" data-action="video">
                    <i class="fas fa-video"></i>
                    <span>Video Record</span>
                </div>
                <div class="emergency-btn" data-action="fakecall">
                    <i class="fas fa-fingerprint"></i>
                    <span>Fake Call</span>
                </div>
            </div>
        </section>

        <section class="location-section">
            <h2>Your Safety Network</h2>
            <div class="location-info">
                <div class="location-card">
                    <h3>Current Location</h3>
                    <p>Latitude: <span id="latitude">28.6139° N</span></p>
                    <p>Longitude: <span id="longitude">77.2090° E</span></p>
                    <p>Accuracy: <span id="accuracy">15 meters</span></p>
                    <p>Last Updated: <span id="lastUpdated">2 mins ago</span></p>
                    <button class="secondary-button" style="margin-top: 10px; padding: 8px 16px; font-size: 14px;" id="updateLocationBtn">Update Location</button>
                </div>
                <div class="location-card">
                    <h3>Safe Zones Nearby</h3>
                    <p>Police Station: 1.2 km</p>
                    <p>Hospital: 2.5 km</p>
                    <p>Women Shelter: 3.1 km</p>
                    <p>Safe Store: 0.8 km</p>
                </div>
                <div class="location-card">
                    <h3>Emergency Contacts</h3>
                    <p>Police: 100</p>
                    <p>Ambulance: 102</p>
                    <p>Women Helpline: 1091</p>
                    <p>Domestic Abuse: 181</p>
                </div>
            </div>
        </section>

        <section class="safety-tips">
            <h2>Women Safety Tips</h2>
            <div class="tips-container">
                <div class="tip-card">
                    <h3>Travel Safety</h3>
                    <p>Always share your live location with trusted contacts when traveling alone. Avoid isolated routes, especially after dark.</p>
                </div>
                <div class="tip-card">
                    <h3>Digital Safety</h3>
                    <p>Keep your device charged and carry a power bank. Use discreet safety apps that can be activated quickly in emergencies.</p>
                </div>
                <div class="tip-card">
                    <h3>Public Transport</h3>
                    <p>Note down vehicle numbers before boarding. Sit near the driver in taxis or use women-only compartments when available.</p>
                </div>
                <div class="tip-card">
                    <h3>Self-Defense</h3>
                    <p>Learn basic self-defense techniques. Carry legal self-defense tools like pepper spray where permitted.</p>
                </div>
                <div class="tip-card">
                    <h3>Social Awareness</h3>
                    <p>Trust your instincts. If a situation feels unsafe, remove yourself immediately. Be aware of your surroundings.</p>
                </div>
                <div class="tip-card">
                    <h3>Emergency Preparedness</h3>
                    <p>Save emergency contacts on speed dial. Know the emergency numbers for your location and have a safety plan.</p>
                </div>
            </div>
        </section>

        <section class="resources">
            <div class="resource-card">
                <h3>Safety Training</h3>
                <p>Access free online self-defense tutorials and safety awareness courses designed specifically for women.</p>
                <a href="#" class="resource-link">Explore Resources <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="resource-card">
                <h3>Legal Support</h3>
                <p>Connect with legal aid organizations and understand your rights with our comprehensive legal guides.</p>
                <a href="#" class="resource-link">Learn More <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="resource-card">
                <h3>Community Forum</h3>
                <p>Join our safe community space to share experiences, safety tips, and support other women.</p>
                <a href="#" class="resource-link">Join Community <i class="fas fa-arrow-right"></i></a>
            </div>
        </section>

        <footer>
            <p>Nirbhaya - Women Safety App &copy; 2023. All rights reserved.</p>
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Contact Us</a>
                <a href="#">About</a>
                <a href="#">Blog</a>
            </div>
            <div class="social-icons">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-linkedin-in"></i></a>
            </div>
        </footer>
    </div>

    <!-- Map Page -->
    <div class="map-page" id="mapPage">
        <header>
            <div class="logo">
                <i class="fas fa-map-marked-alt"></i>
                <h1>Safety Maps</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="#" class="nav-link" data-page="home"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="#" class="nav-link active" data-page="map"><i class="fas fa-map-marked-alt"></i> Safety Maps</a></li>
                    <li><a href="#"><i class="fas fa-phone-alt"></i> Emergency</a></li>
                    <li><a href="#"><i class="fas fa-book"></i> Resources</a></li>
                    <li><a href="#" class="nav-link" data-page="settings"><i class="fas fa-cog"></i> Settings</a></li>
                </ul>
            </nav>
            <div class="user-menu">
                <button class="user-btn" id="profileBtn">
                    <i class="fas fa-user"></i>
                </button>
                <button class="user-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </header>

        <section class="map-section">
            <h2><i class="fas fa-map-marked-alt"></i> Offline Safety Map</h2>
            <p style="text-align: center; color: var(--text-secondary); margin-bottom: 30px; max-width: 800px; margin-left: auto; margin-right: auto;">
                Access detailed offline maps with marked safe zones. All map data is stored locally and works without internet connection.
            </p>
            
            <div class="api-section">
                <h2><i class="fas fa-key"></i> Google Maps API Integration</h2>
                
                <div class="api-key-input">
                    <input type="text" id="api-key-input" placeholder="Enter your Google Maps API key">
                    <button id="save-api-key">Save API Key</button>
                </div>
                
                <div class="map-container">
                    <div id="map"></div>
                </div>
                
                <div class="controls">
                    <button class="control-btn" id="locate-btn">
                        <i class="fas fa-location-arrow"></i> Locate Me
                    </button>
                    <button class="control-btn" id="find-safety-btn">
                        <i class="fas fa-shield-alt"></i> Find Safety Centers
                    </button>
                    <button class="control-btn" id="plan-route-btn">
                        <i class="fas fa-route"></i> Plan Safe Route
                    </button>
                    <button class="control-btn" id="download-map-btn">
                        <i class="fas fa-download"></i> Download Map
                    </button>
                </div>
                
                <div class="status-bar">
                    <div class="status-item">
                        <div class="status-indicator" id="api-status"></div>
                        <span>API Status: <span id="api-status-text">Not Configured</span></span>
                    </div>
                    <div class="status-item">
                        <div class="status-indicator" id="location-status"></div>
                        <span>Location: <span id="location-status-text">Unknown</span></span>
                    </div>
                    <div class="status-item">
                        <div class="status-indicator" id="safety-centers-status"></div>
                        <span>Safety Centers: <span id="safety-centers-status-text">Not Loaded</span></span>
                    </div>
                </div>
            </div>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-map"></i>
                    </div>
                    <h3>View Map</h3>
                    <p>Access detailed maps with safety information</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>Find Safe Zones</h3>
                    <p>Locate nearby safety centers and safe zones</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-route"></i>
                    </div>
                    <h3>Plan Safe Route</h3>
                    <p>Get the safest route to your destination</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-download"></i>
                    </div>
                    <h3>Download Maps</h3>
                    <p>Download maps for offline use</p>
                </div>
            </div>
        </section>
    </div>

    <!-- Settings Page -->
    <div class="settings-page" id="settingsPage">
        <header>
            <div class="logo">
                <i class="fas fa-cog"></i>
                <h1>Settings</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="#" class="nav-link" data-page="home"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="#" class="nav-link" data-page="map"><i class="fas fa-map-marked-alt"></i> Safety Maps</a></li>
                    <li><a href="#"><i class="fas fa-phone-alt"></i> Emergency</a></li>
                    <li><a href="#"><i class="fas fa-book"></i> Resources</a></li>
                    <li><a href="#" class="nav-link active" data-page="settings"><i class="fas fa-cog"></i> Settings</a></li>
                </ul>
            </nav>
            <div class="user-menu">
                <button class="user-btn" id="profileBtn">
                    <i class="fas fa-user"></i>
                </button>
                <button class="user-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </header>

        <section class="settings-section">
            <h2><i class="fas fa-palette"></i> Appearance</h2>
            
            <div class="settings-option">
                <div class="option-info">
                    <h3>Theme Mode</h3>
                    <p>Switch between light and dark mode</p>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" id="theme-toggle">
                    <span class="slider"></span>
                </label>
            </div>
            
            <div class="settings-option">
                <div class="option-info">
                    <h3>Font Size</h3>
                    <p>Adjust the text size for better readability</p>
                </div>
                <select id="font-size">
                    <option value="small">Small</option>
                    <option value="medium" selected>Medium</option>
                    <option value="large">Large</option>
                </select>
            </div>
        </section>

        <section class="settings-section">
            <h2><i class="fas fa-bell"></i> Notifications</h2>
            
            <div class="settings-option">
                <div class="option-info">
                    <h3>Push Notifications</h3>
                    <p>Receive alerts and safety updates</p>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" id="push-notifications" checked>
                    <span class="slider"></span>
                </label>
            </div>
            
            <div class="settings-option">
                <div class="option-info">
                    <h3>Sound Alerts</h3>
                    <p>Play sounds for emergency notifications</p>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" id="sound-alerts" checked>
                    <span class="slider"></span>
                </label>
            </div>
            
            <div class="settings-option">
                <div class="option-info">
                    <h3>Vibration</h3>
                    <p>Vibrate for emergency alerts</p>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" id="vibration" checked>
                    <span class="slider"></span>
                </label>
            </div>
        </section>

        <section class="settings-section">
            <h2><i class="fas fa-shield-alt"></i> Privacy & Security</h2>
            
            <div class="settings-option">
                <div class="option-info">
                    <h3>Location Tracking</h3>
                    <p>Allow the app to track your location for safety features</p>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" id="location-tracking" checked>
                    <span class="slider"></span>
                </label>
            </div>
            
            <div class="settings-option">
                <div class="option-info">
                    <h3>Auto Emergency Mode</h3>
                    <p>Automatically activate emergency mode in dangerous situations</p>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" id="auto-emergency">
                    <span class="slider"></span>
                </label>
            </div>
            
            <div class="settings-option">
                <div class="option-info">
                    <h3>Data Encryption</h3>
                    <p>Encrypt all your personal data and location history</p>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" id="data-encryption" checked>
                    <span class="slider"></span>
                </label>
            </div>
        </section>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        // Create animated stars for background
        function createStars() {
            const container = document.getElementById('stars-container');
            const starCount = 200;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                const size = Math.random() * 3 + 1;
                const left = Math.random() * 100;
                const top = Math.random() * 100;
                const delay = Math.random() * 5;
                
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.left = `${left}%`;
                star.style.top = `${top}%`;
                star.style.animationDelay = `${delay}s`;
                
                container.appendChild(star);
            }
        }
        
        // Create geometric background
        function createGeometricBackground() {
            const container = document.getElementById('geometric-bg');
            
            // Create triangle
            const triangle = document.createElement('div');
            triangle.classList.add('geometric-shape', 'triangle');
            container.appendChild(triangle);
            
            // Create circle
            const circle = document.createElement('div');
            circle.classList.add('geometric-shape', 'circle');
            container.appendChild(circle);
            
            // Create square
            const square = document.createElement('div');
            square.classList.add('geometric-shape', 'square');
            container.appendChild(square);
            
            // Create hexagon
            const hexagon = document.createElement('div');
            hexagon.classList.add('geometric-shape', 'hexagon');
            container.appendChild(hexagon);
        }
        
        // Show toast notification
        function showToast(message, duration = 3000) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, duration);
        }
        
        // Simulate location update
        function updateLocation() {
            const latitude = document.getElementById('latitude');
            const longitude = document.getElementById('longitude');
            const accuracy = document.getElementById('accuracy');
            const lastUpdated = document.getElementById('lastUpdated');
            
            const updateBtn = document.getElementById('updateLocationBtn');
            const originalText = updateBtn.innerHTML;
            updateBtn.innerHTML = '<div class="loading"></div>';
            
            setTimeout(() => {
                const lat = (28.6139 + (Math.random() - 0.5) * 0.01).toFixed(4);
                const lng = (77.2090 + (Math.random() - 0.5) * 0.01).toFixed(4);
                const acc = Math.floor(Math.random() * 10) + 10;
                
                latitude.textContent = `${lat}° N`;
                longitude.textContent = `${lng}° E`;
                accuracy.textContent = `${acc} meters`;
                lastUpdated.textContent = 'Just now';
                
                updateBtn.innerHTML = originalText;
                showToast('Location updated successfully!');
            }, 1500);
        }
        
        // Handle emergency button clicks
        function handleEmergencyAction(action) {
            const emergencySection = document.getElementById('emergencySection');
            
            emergencySection.classList.add('emergency-mode');
            
            let message = '';
            
            switch(action) {
                case 'alert':
                    message = '🚨 Emergency alert sent to your trusted contacts!';
                    break;
                case 'location':
                    message = '📍 Your live location is being shared with emergency contacts!';
                    break;
                case 'call':
                    message = '📞 Connecting to nearest emergency services...';
                    break;
                case 'audio':
                    message = '🎙️ Audio recording started discreetly...';
                    break;
                case 'video':
                    message = '📹 Video recording started discreetly...';
                    break;
                case 'fakecall':
                    message = '📱 Fake call activated - will ring in 10 seconds';
                    break;
                default:
                    message = 'Emergency action activated!';
            }
            
            showToast(message, 4000);
            
            setTimeout(() => {
                emergencySection.classList.remove('emergency-mode');
            }, 4000);
        }

        // Enhanced Splash screen transition
        function showAuthScreen() {
            const splashScreen = document.getElementById('splashScreen');
            const authContainer = document.getElementById('authContainer');

            setTimeout(() => {
                splashScreen.style.opacity = '0';
                setTimeout(() => {
                    splashScreen.style.display = 'none';
                    authContainer.style.display = 'flex';
                }, 1000);
            }, 4000); // Increased time to show the enhanced splash screen
        }

        // Page navigation functionality
        function setupNavigation() {
            const navLinks = document.querySelectorAll('.nav-link');
            const appContainer = document.getElementById('appContainer');
            const mapPage = document.getElementById('mapPage');
            const settingsPage = document.getElementById('settingsPage');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.getAttribute('data-page');
                    
                    // Hide all pages
                    appContainer.style.display = 'none';
                    mapPage.style.display = 'none';
                    settingsPage.style.display = 'none';
                    
                    // Show selected page
                    if (page === 'home') {
                        appContainer.style.display = 'block';
                    } else if (page === 'map') {
                        mapPage.style.display = 'block';
                    } else if (page === 'settings') {
                        settingsPage.style.display = 'block';
                    }
                    
                    // Update active nav link
                    navLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        }

        // Theme toggle functionality
        function setupThemeToggle() {
            const themeToggle = document.getElementById('theme-toggle');
            const currentTheme = localStorage.getItem('theme') || 'dark';
            
            // Set initial theme
            document.documentElement.setAttribute('data-theme', currentTheme);
            themeToggle.checked = currentTheme === 'light';
            
            // Toggle theme
            themeToggle.addEventListener('change', function() {
                const newTheme = this.checked ? 'light' : 'dark';
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                showToast(`Switched to ${newTheme} mode`);
            });
        }

        // Authentication functionality
        function setupAuth() {
            const authTabs = document.querySelectorAll('.auth-tab');
            const authForms = document.querySelectorAll('.auth-form');
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            const authContainer = document.getElementById('authContainer');
            const appContainer = document.getElementById('appContainer');
            const logoutBtn = document.getElementById('logoutBtn');
            
            // Toggle between login and register forms
            authTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabName = tab.getAttribute('data-tab');
                    
                    authTabs.forEach(t => t.classList.remove('active'));
                    authForms.forEach(f => f.classList.remove('active'));
                    
                    tab.classList.add('active');
                    document.getElementById(`${tabName}Form`).classList.add('active');
                });
            });
            
            // Toggle password visibility
            const togglePasswordButtons = document.querySelectorAll('.toggle-password');
            togglePasswordButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const input = this.parentElement.querySelector('input');
                    const icon = this.querySelector('i');
                    
                    if (input.type === 'password') {
                        input.type = 'text';
                        icon.classList.remove('fa-eye');
                        icon.classList.add('fa-eye-slash');
                    } else {
                        input.type = 'password';
                        icon.classList.remove('fa-eye-slash');
                        icon.classList.add('fa-eye');
                    }
                });
            });
            
            // Handle login form submission
            loginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                
                // Simple validation
                if (email && password) {
                    // In a real app, you would send this to a server for authentication
                    // For demo purposes, we'll just show the app
                    authContainer.style.display = 'none';
                    appContainer.style.display = 'block';
                    showToast('Login successful! Welcome to Nirbhaya.');
                } else {
                    showToast('Please fill in all fields');
                }
            });
            
            // Handle register form submission
            registerForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const name = document.getElementById('registerName').value;
                const email = document.getElementById('registerEmail').value;
                const password = document.getElementById('registerPassword').value;
                const confirmPassword = document.getElementById('confirmPassword').value;
                
                // Simple validation
                if (name && email && password && confirmPassword) {
                    if (password !== confirmPassword) {
                        showToast('Passwords do not match');
                        return;
                    }
                    
                    // In a real app, you would send this to a server for registration
                    // For demo purposes, we'll just show the app
                    authContainer.style.display = 'none';
                    appContainer.style.display = 'block';
                    showToast('Registration successful! Welcome to Nirbhaya.');
                } else {
                    showToast('Please fill in all fields');
                }
            });
            
            // Handle logout
            logoutBtn.addEventListener('click', function() {
                appContainer.style.display = 'none';
                authContainer.style.display = 'flex';
                showToast('You have been logged out');
            });
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            createStars();
            createGeometricBackground();
            showAuthScreen();
            setupAuth();
            setupNavigation();
            setupThemeToggle();
            
            // Add click events to emergency buttons
            const emergencyBtns = document.querySelectorAll('.emergency-btn');
            emergencyBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const action = this.getAttribute('data-action');
                    handleEmergencyAction(action);
                });
            });
            
            // Add click event to CTA buttons
            document.getElementById('downloadBtn').addEventListener('click', function() {
                showToast('📲 Downloading Nirbhaya app...');
            });
            
            document.getElementById('learnMoreBtn').addEventListener('click', function() {
                showToast('ℹ️ Learn more about our safety features and protection methods.');
            });
            
            // Add click event to update location button
            document.getElementById('updateLocationBtn').addEventListener('click', updateLocation);
            
            // Add keyboard shortcuts for emergency actions
            document.addEventListener('keydown', function(e) {
                if (e.key === 'e' || e.key === 'E') {
                    handleEmergencyAction('alert');
                }
                if (e.key === 'l' || e.key === 'L') {
                    handleEmergencyAction('location');
                }
            });
        });

        // Google Maps Integration Code
        // DOM Elements
        const apiKeyInput = document.getElementById('api-key-input');
        const saveApiKeyBtn = document.getElementById('save-api-key');
        const locateBtn = document.getElementById('locate-btn');
        const findSafetyBtn = document.getElementById('find-safety-btn');
        const planRouteBtn = document.getElementById('plan-route-btn');
        const downloadMapBtn = document.getElementById('download-map-btn');
        
        // Status elements
        const apiStatus = document.getElementById('api-status');
        const apiStatusText = document.getElementById('api-status-text');
        const locationStatus = document.getElementById('location-status');
        const locationStatusText = document.getElementById('location-status-text');
        const safetyCentersStatus = document.getElementById('safety-centers-status');
        const safetyCentersStatusText = document.getElementById('safety-centers-status-text');
        
        // Global variables
        let map;
        let userLocation = null;
        let safetyCenters = [];
        let googleMapsLoaded = false;
        
        // Check for saved API key on page load
        window.addEventListener('DOMContentLoaded', () => {
            const savedApiKey = localStorage.getItem('googleMapsApiKey');
            if (savedApiKey) {
                apiKeyInput.value = savedApiKey;
                initializeGoogleMaps(savedApiKey);
            }
        });
        
        // Save API key
        saveApiKeyBtn.addEventListener('click', () => {
            const apiKey = apiKeyInput.value.trim();
            if (apiKey) {
                localStorage.setItem('googleMapsApiKey', apiKey);
                initializeGoogleMaps(apiKey);
                showNotification('API key saved successfully!', 'success');
            } else {
                showNotification('Please enter a valid API key', 'error');
            }
        });
        
        // Initialize Google Maps
        function initializeGoogleMaps(apiKey) {
            // Check if Google Maps script is already loaded
            if (window.google && window.google.maps) {
                initMap();
                return;
            }
            
            // Load Google Maps script
            const script = document.createElement('script');
            script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=places&callback=initMap`;
            script.async = true;
            script.defer = true;
            document.head.appendChild(script);
            
            apiStatus.className = 'status-indicator';
            apiStatusText.textContent = 'Loading...';
        }
        
        // Initialize the map
        window.initMap = function() {
            googleMapsLoaded = true;
            
            // Default center (New York)
            const defaultCenter = { lat: 40.7128, lng: -74.0060 };
            
            // Create map
            map = new google.maps.Map(document.getElementById('map'), {
                zoom: 12,
                center: defaultCenter,
                styles: [
                    {
                        "featureType": "all",
                        "elementType": "geometry",
                        "stylers": [{ "color": "#242f3e" }]
                    },
                    {
                        "featureType": "all",
                        "elementType": "labels.text.stroke",
                        "stylers": [{ "lightness": -80 }]
                    },
                    {
                        "featureType": "administrative",
                        "elementType": "labels.text.fill",
                        "stylers": [{ "color": "#746855" }]
                    },
                    {
                        "featureType": "landscape",
                        "elementType": "all",
                        "stylers": [{ "color": "#2c5c70" }]
                    },
                    {
                        "featureType": "poi",
                        "elementType": "all",
                        "stylers": [{ "visibility": "off" }]
                    },
                    {
                        "featureType": "road",
                        "elementType": "all",
                        "stylers": [{ "color": "#4a6b7d" }]
                    },
                    {
                        "featureType": "transit",
                        "elementType": "all",
                        "stylers": [{ "visibility": "off" }]
                    },
                    {
                        "featureType": "water",
                        "elementType": "all",
                        "stylers": [{ "color": "#1e3a4d" }]
                    }
                ]
            });
            
            apiStatus.className = 'status-indicator';
            apiStatusText.textContent = 'Active';
            
            // Try to get user's location
            locateUser();
        };
        
        // Locate user
        locateBtn.addEventListener('click', locateUser);
        
        function locateUser() {
            if (!navigator.geolocation) {
                showNotification('Geolocation is not supported by this browser', 'error');
                return;
            }
            
            locationStatus.className = 'status-indicator offline';
            locationStatusText.textContent = 'Locating...';
            
            navigator.geolocation.getCurrentPosition(
                (position) => {
                    userLocation = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };
                    
                    // Center map on user's location
                    map.setCenter(userLocation);
                    map.setZoom(14);
                    
                    // Add marker for user's location
                    new google.maps.Marker({
                        position: userLocation,
                        map: map,
                        title: 'Your Location',
                        icon: {
                            url: 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(`
                                <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="10" cy="10" r="8" fill="#ff4081" stroke="white" stroke-width="2"/>
                                </svg>
                            `),
                            scaledSize: new google.maps.Size(30, 30)
                        }
                    });
                    
                    locationStatus.className = 'status-indicator';
                    locationStatusText.textContent = 'Located';
                    
                    showNotification('Your location has been found!', 'success');
                },
                (error) => {
                    console.error('Error getting location:', error);
                    locationStatus.className = 'status-indicator offline';
                    locationStatusText.textContent = 'Failed';
                    showNotification('Unable to retrieve your location', 'error');
                }
            );
        }
        
        // Find safety centers
        findSafetyBtn.addEventListener('click', findSafetyCenters);
        
        function findSafetyCenters() {
            if (!userLocation) {
                showNotification('Please locate yourself first', 'error');
                return;
            }
            
            safetyCentersStatus.className = 'status-indicator offline';
            safetyCentersStatusText.textContent = 'Searching...';
            
            // In a real app, you would query actual safety centers
            // For this demo, we'll create mock safety centers around the user's location
            
            // Clear previous safety centers
            safetyCenters.forEach(center => center.marker.setMap(null));
            safetyCenters = [];
            
            // Create mock safety centers
            const safetyCenterTypes = [
                { name: 'Police Station', iconColor: '#2196F3' },
                { name: 'Hospital', iconColor: '#F44336' },
                { name: 'Fire Station', iconColor: '#FF9800' },
                { name: 'Community Center', iconColor: '#9C27B0' },
                { name: 'Safe Zone', iconColor: '#4CAF50' }
            ];
            
            // Generate 8-12 safety centers randomly around the user
            const numCenters = Math.floor(Math.random() * 5) + 8;
            
            for (let i = 0; i < numCenters; i++) {
                const type = safetyCenterTypes[Math.floor(Math.random() * safetyCenterTypes.length)];
                
                // Create a location near the user (within 5km)
                const lat = userLocation.lat + (Math.random() - 0.5) * 0.05;
                const lng = userLocation.lng + (Math.random() - 0.5) * 0.05;
                
                const centerLocation = { lat, lng };
                
                // Create marker
                const marker = new google.maps.Marker({
                    position: centerLocation,
                    map: map,
                    title: type.name,
                    icon: {
                        url: 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(`
                            <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 0C6.686 0 4 2.686 4 6c0 3.925 5.615 9.541 5.935 9.875a.5.5 0 0 0 .13.125.5.5 0 0 0 .13-.125C10.385 15.541 16 9.925 16 6c0-3.314-2.686-6-6-6zm0 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4z" fill="${type.iconColor}"/>
                            </svg>
                        `),
                        scaledSize: new google.maps.Size(25, 25)
                    }
                });
                
                // Create info window
                const infoWindow = new google.maps.InfoWindow({
                    content: `
                        <div style="padding: 10px;">
                            <h3 style="margin: 0 0 5px 0; color: ${type.iconColor}">${type.name}</h3>
                            <p style="margin: 0;">Safety Center #${i+1}</p>
                            <p style="margin: 5px 0 0 0; font-size: 12px;">Open 24/7</p>
                        </div>
                    `
                });
                
                marker.addListener('click', () => {
                    infoWindow.open(map, marker);
                });
                
                safetyCenters.push({
                    type: type.name,
                    location: centerLocation,
                    marker: marker,
                    infoWindow: infoWindow
                });
            }
            
            safetyCentersStatus.className = 'status-indicator';
            safetyCentersStatusText.textContent = `${safetyCenters.length} Found`;
            
            showNotification(`Found ${safetyCenters.length} safety centers near you`, 'success');
        }
        
        // Plan safe route
        planRouteBtn.addEventListener('click', () => {
            if (!userLocation) {
                showNotification('Please locate yourself first', 'error');
                return;
            }
            
            if (safetyCenters.length === 0) {
                showNotification('Please find safety centers first', 'error');
                return;
            }
            
            // In a real app, you would calculate the safest route
            // For this demo, we'll just show a notification
            showNotification('Safe route planning feature would be implemented here', 'info');
        });
        
        // Download map
        downloadMapBtn.addEventListener('click', () => {
            showNotification('Map download feature would be implemented here', 'info');
        });
        
        // Notification function
        function showNotification(message, type) {
            // Create notification element
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                border-radius: 8px;
                color: white;
                font-weight: bold;
                z-index: 1000;
                max-width: 300px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                transition: transform 0.3s ease, opacity 0.3s ease;
                transform: translateX(100%);
                opacity: 0;
            `;
            
            // Set background color based on type
            if (type === 'success') {
                notification.style.backgroundColor = '#4CAF50';
            } else if (type === 'error') {
                notification.style.backgroundColor = '#F44336';
            } else {
                notification.style.backgroundColor = '#2196F3';
            }
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
                notification.style.opacity = '1';
            }, 10);
            
            // Animate out after 3 seconds
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                notification.style.opacity = '0';
                
                // Remove from DOM after animation
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
    </script>
</body>
</html>
